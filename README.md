# Todo API 

REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ (TODO) –Ω–∞ Go —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Clean Architecture.
## –ü—Ä–∏–Ω—Ü–∏–ø—ã Clean Architecture

1. **Domain Layer** - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤
2. **Use Case Layer** - —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
3. **Repository Layer** - –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏
4. **Delivery Layer** - HTTP –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏ middleware

## API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É
```bash
POST /todos
Content-Type: application/json

{
  "title": "–ö—É–ø–∏—Ç—å –º–æ–ª–æ–∫–æ",
  "description": "–ö—É–ø–∏—Ç—å 2 –ª–∏—Ç—Ä–∞ –º–æ–ª–æ–∫–∞",
  "completed": false
}
```

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏
```bash
GET /todos
```

### –ü–æ–ª—É—á–∏—Ç—å –∑–∞–¥–∞—á—É –ø–æ ID
```bash
GET /todos/{id}
```

### –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞—á—É
```bash
PUT /todos/{id}
Content-Type: application/json

{
  "title": "–ö—É–ø–∏—Ç—å –º–æ–ª–æ–∫–æ –∏ —Ö–ª–µ–±",
  "description": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ",
  "completed": true
}
```

### –£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É
```bash
DELETE /todos/{id}
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Go 1.25 –∏–ª–∏ –≤—ã—à–µ
- Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- Make (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ó–∞–ø—É—Å–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Make

```bash
# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
make run
```

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –±–µ–∑ Make

```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è
go mod download
go mod tidy

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
go run cmd/main.go
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `http://localhost:8080`

### –ó–∞–ø—É—Å–∫ —Å Docker

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker compose build
# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker compose up -d
```



## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
```bash
# –° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Make
make test

# –ë–µ–∑ Make
go test ./... -v
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
```bash
# Unit-—Ç–µ—Å—Ç—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
go test ./internal/repository -v

# Unit-—Ç–µ—Å—Ç—ã use case
go test ./internal/usecase -v

# Unit-—Ç–µ—Å—Ç—ã HTTP handlers
go test ./internal/http/handler -v

# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
go test ./test -v

# –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
make load_test
``



### –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

**Repository Layer**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –±–µ–∑ ID
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ —Å ID
- ‚úÖ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ ID (–æ—à–∏–±–∫–∞)
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–¥–∞—á
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –ø–æ ID
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏

**Use Case Layer**
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Å –ø—É—Å—Ç—ã–º –∑–∞–≥–æ–ª–æ–≤–∫–æ–º (–æ—à–∏–±–∫–∞)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∑–∞–¥–∞—á–∏ (–æ—à–∏–±–∫–∞)

**Handler Layer**
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ HTTP –º–µ—Ç–æ–¥–æ–≤
- ‚úÖ –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è JSON
- ‚úÖ HTTP —Å—Ç–∞—Ç—É—Å—ã (200, 201, 400, 404, 409)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**Integration Tests**
- ‚úÖ –ü–æ–ª–Ω—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∑–∞–¥–∞—á–∏
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏
- ‚úÖ –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ end-to-end

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É (POST /todos)
```bash
curl -X POST http://localhost:8080/todos \
  -H "Content-Type: application/json" \
  -d '{
    "title": "–ö—É–ø–∏—Ç—å –º–æ–ª–æ–∫–æ",
    "description": "–ö—É–ø–∏—Ç—å 2 –ª–∏—Ç—Ä–∞ –º–æ–ª–æ–∫–∞",
    "completed": false
  }'

# –û—Ç–≤–µ—Ç (201 Created):
{
  "id": 1,
  "title": "–ö—É–ø–∏—Ç—å –º–æ–ª–æ–∫–æ",
  "description": "–ö—É–ø–∏—Ç—å 2 –ª–∏—Ç—Ä–∞ –º–æ–ª–æ–∫–∞",
  "completed": false
}
```

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏ (GET /todos)
```bash
curl http://localhost:8080/todos

# –û—Ç–≤–µ—Ç (200 OK):
[
  {
    "id": 1,
    "title": "–ö—É–ø–∏—Ç—å –º–æ–ª–æ–∫–æ",
    "description": "–ö—É–ø–∏—Ç—å 2 –ª–∏—Ç—Ä–∞ –º–æ–ª–æ–∫–∞",
    "completed": false
  }
]
```

### –ü–æ–ª—É—á–∏—Ç—å –∑–∞–¥–∞—á—É –ø–æ ID (GET /todos/{id})
```bash
curl http://localhost:8080/todos/1

# –û—Ç–≤–µ—Ç (200 OK):
{
  "id": 1,
  "title": "–ö—É–ø–∏—Ç—å –º–æ–ª–æ–∫–æ",
  "description": "–ö—É–ø–∏—Ç—å 2 –ª–∏—Ç—Ä–∞ –º–æ–ª–æ–∫–∞",
  "completed": false
}
```

### –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞—á—É (PUT /todos/{id})
```bash
curl -X PUT http://localhost:8080/todos/1 \
  -H "Content-Type: application/json" \
  -d '{
    "title": "–ö—É–ø–∏—Ç—å –º–æ–ª–æ–∫–æ –∏ —Ö–ª–µ–±",
    "description": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ",
    "completed": true
  }'

# –û—Ç–≤–µ—Ç (200 OK):
{
  "id": 1,
  "title": "–ö—É–ø–∏—Ç—å –º–æ–ª–æ–∫–æ –∏ —Ö–ª–µ–±",
  "description": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ",
  "completed": true
}
```

### –£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É (DELETE /todos/{id})
```bash
curl -X DELETE http://localhost:8080/todos/1

# –û—Ç–≤–µ—Ç (204 No Content)
```
### Middleware
- **Logger** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- **Recovery** - –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø–∞–Ω–∏–∫–∏
- **Timeout** - —Ç–∞–π–º–∞—É—Ç –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ (30 —Å–µ–∫—É–Ω–¥)
